(this["webpackJsonpgrade-management-ui"]=this["webpackJsonpgrade-management-ui"]||[]).push([[0],{350:function(e,t,a){e.exports=a.p+"static/media/foreign_language_books.31fe452a.jpg"},361:function(e,t,a){e.exports=a(435)},435:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),o=a(57),s=a(58),i=a(60),u=a(59),m=a(110),d=a(352),p=a(31),h=a(351),f=a(96),E=a(4),b=a(479),g=a(316),C=a(115),v=a(20),x=a(314),S=a(455),k=a(90),N=a(317),O=a(190),A=a(315),D=a(456),y=a(77),B=Object(x.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},button:{textTransform:"none"}}})),w=Object(E.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return r.a.createElement(O.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))}));function j(e){var t=Object(p.k)();return r.a.createElement("div",null,r.a.createElement(w,{id:"user-menu",anchorEl:e.anchorEl,keepMounted:!0,open:Boolean(e.anchorEl),onClose:function(){e.handleOnUserMenuClose()}},r.a.createElement(A.a,{key:"changePassword",onClick:function(){!function(){var e=y.auth.getAvailableUserDetails();e.roles.indexOf("ROLE_STAFF_ADMIN")>-1||e.roles.indexOf("ROLE_STAFF_MANAGER")>-1||e.roles.indexOf("ROLE_STAFF_TEACHER")>-1?t.push("/staffs/".concat(e.username.replace(".","-"),"/password-change")):e.roles.indexOf("ROLE_STUDENT")>-1&&t.push("/students/".concat(e.username.replace(".","-"),"/password-change"))}(),e.handleOnUserMenuClose()}},"Change Password"),r.a.createElement(A.a,{key:"signOut",onClick:function(){y.auth.logout((function(){return t.push("/")}))}},"Sign Out")))}function F(e){var t=B(),a=Object(n.useState)(null),l=Object(v.a)(a,2),c=l[0],o=l[1],s=function(e){var t=e.indexOf("."),a=e.slice(0,t);a=a[0].toUpperCase()+a.slice(1).toLowerCase();var n=e.slice(t+1);return a+"  "+(n=n[0].toUpperCase()+n.slice(1).toLowerCase())}(y.auth.getAvailableUserDetails().username);return r.a.createElement(S.a,{position:"fixed",className:e.className},r.a.createElement(g.a,null,r.a.createElement(k.a,{variant:"h6",className:t.title},"LLCE"),r.a.createElement(N.a,{className:t.button,"aria-controls":"user-menu","aria-haspopup":"true",color:"inherit",size:"large",startIcon:r.a.createElement(D.a,null),onClick:function(e){o(e.currentTarget)}},s),r.a.createElement(j,{anchorEl:c,handleOnUserMenuClose:function(){o(null)}})))}var T=a(73),P=a(441),L=a(442),M=a(461),R=a(318),_=a(460),I=a(457),V=a(458),G=a(459),W=a(462),z=a(463),H=a(464),U=a(465),q=a(466),J=a(77),Y=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=J.auth.getAvailableUserDetails();return r.a.createElement(T.a,{className:this.props.classNameDrawer,variant:"permanent",classes:{paper:this.props.classNameDrawerPaper}},r.a.createElement(g.a,null),r.a.createElement("div",{className:this.props.classNameDrawerContainer},r.a.createElement(P.a,null,!1,r.a.createElement(L.a,{key:"manage"},r.a.createElement(N.a,{startIcon:r.a.createElement(I.a,null),onClick:this.props.handleAccountsButtonClick,endIcon:this.props.sidebarProps.openAccountsButton?r.a.createElement(V.a,null):r.a.createElement(G.a,null)},"Accounts")),r.a.createElement(_.a,{in:this.props.sidebarProps.openAccountsButton,timeout:"auto",unmountOnExit:!0},r.a.createElement(P.a,{className:e.nested},r.a.createElement(L.a,{key:"view",button:!0,onClick:this.props.accountsCollapseHandlers.handleClickView},r.a.createElement(M.a,null,r.a.createElement(W.a,null)),r.a.createElement(R.a,{primary:"View"})),t.roles.indexOf("ROLE_STAFF_ADMIN")>-1?r.a.createElement(L.a,{key:"create-account",button:!0,onClick:this.props.accountsCollapseHandlers.handleClickCreate},r.a.createElement(M.a,null,r.a.createElement(z.a,null)),r.a.createElement(R.a,{primary:"Create"})):null,!1,!1)),r.a.createElement(L.a,{key:"marks"},r.a.createElement(N.a,{startIcon:r.a.createElement(H.a,null),onClick:this.props.handleMarksExamsButtonClick,endIcon:this.props.sidebarProps.openMarksExamsButton?r.a.createElement(V.a,null):r.a.createElement(G.a,null)},"Marks/Exams")),r.a.createElement(_.a,{in:this.props.sidebarProps.openMarksExamsButton,timeout:"auto",unmountOnExit:!0},r.a.createElement(P.a,{className:e.nested},r.a.createElement(L.a,{key:"manageMarks",button:!0,onClick:this.props.marksExamsCollapseHandlers.handleClickManageMarks},r.a.createElement(M.a,null,r.a.createElement(U.a,null)),r.a.createElement(R.a,{primary:"Manage Marks"})),t.roles.indexOf("ROLE_STAFF_MANAGER")>-1?r.a.createElement(L.a,{key:"ScheduleExam",button:!0,onClick:this.props.marksExamsCollapseHandlers.handleClickScheduleExams},r.a.createElement(M.a,null,r.a.createElement(q.a,null)),r.a.createElement(R.a,{primary:"Schedule Exam"})):null)))))}}]),a}(r.a.Component),K=Object(E.a)((function(e){return{nested:{paddingLeft:e.spacing(4)}}}))(Y),Q=a(87),X=a.n(Q),Z=a(469),$=a(481),ee=a(470),te=a(471),ae=Object(x.a)((function(e){return{root:{marginBottom:e.spacing(2)},label:{textAlign:"center",color:e.palette.primary.main,marginRight:e.spacing(5),marginLeft:e.spacing(1)}}}));function ne(e){var t=ae();return r.a.createElement("div",{className:t.root},r.a.createElement(k.a,{className:t.label,variant:"subtitle1",color:"inherit",display:"inline"},e.labelName),r.a.createElement(k.a,{display:"inline",variant:"body2"},e.inputValue," "))}var re=a(77),le=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){return n.fetchData()},n.fetchData=function(){re.get("staffs/limitedInfos",(function(e,t){e||n.setState({data:t.body})}))},n.handleCloseDialog=function(){n.setState({showDetails:!1})},n.state={data:[],detailData:{},showDetails:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.tableTitle;return r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{title:t,columns:[{title:"Staff No.",field:"staffNumber"},{title:"Name",field:"name"},{title:"Date of Birth",field:"dateOfBirth"}],data:this.state.data.map((function(e){return{staffNumber:e.staffNumber,name:e.fullname,dateOfBirth:e.dateOfBirth}})),actions:[{icon:"emoji_people",tooltip:"More details ...",onClick:function(t,a){re.get("staffs/"+a.staffNumber,(function(t,a){t||e.setState({detailData:a.body,showDetails:!0})}))}}],options:{search:!0,headerStyle:{backgroundColor:"#4791db",color:"white"}},components:{Toolbar:function(e){return r.a.createElement("div",{style:{color:"#115293",fontSize:"3.5em",fontWeight:"bold",paddingBottom:"25px",paddingTop:"10px"}},r.a.createElement(Q.MTableToolbar,e))}}}),r.a.createElement(Z.a,{open:this.state.showDetails,onClose:this.handleCloseDialog},r.a.createElement($.a,{id:"more-info-dialog-title"},"Staff Detail Information"),r.a.createElement(ee.a,null,r.a.createElement(ne,{labelName:"Staff Number:",inputValue:this.state.detailData.staffNumber}),r.a.createElement(ne,{labelName:"First Name:",inputValue:this.state.detailData.firstname}),r.a.createElement(ne,{labelName:"Last Name:",inputValue:this.state.detailData.lastname}),r.a.createElement(ne,{labelName:"Date of Birth:",inputValue:this.state.detailData.dateOfBirth}),r.a.createElement(ne,{labelName:"Phone Number:",inputValue:this.state.detailData.phoneNumber}),r.a.createElement(ne,{labelName:"Email:",inputValue:this.state.detailData.email}),r.a.createElement(ne,{labelName:"Office Phone Number:",inputValue:this.state.detailData.officePhoneNumber}),r.a.createElement(ne,{labelName:"Office Number:",inputValue:this.state.detailData.officeNumber})),r.a.createElement(te.a,null,r.a.createElement(N.a,{color:"primary",onClick:this.handleCloseDialog},"Close"))))}}]),a}(r.a.Component),ce=a(77);Object(x.a)((function(e){return{table:{minWidth:700},paper:{width:"100%",marginBottom:e.spacing(2)}}}));function oe(e){var t=Object(n.useState)([]),a=Object(v.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)({}),s=Object(v.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)(!1),d=Object(v.a)(m,2),p=d[0],h=d[1],f=e.tableTitle,E=function(){h(!1)};return Object(n.useEffect)((function(){ce.get("students/limitedInfos",(function(e,t){e||c(t.body)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{title:f,columns:[{title:"Student No.",field:"studentNumber"},{title:"Name",field:"name"},{title:"Date of birth",field:"dateOfBirth"}],data:l.map((function(e){return{studentNumber:e.studentNumber,name:e.fullname,dateOfBirth:e.dateOfBirth}})),actions:[{icon:"emoji_people",tooltip:"More details ...",onClick:function(e,t){ce.get("students/"+t.studentNumber,(function(e,t){e||(u(t.body),h(!0))}))}}],options:{search:!0,headerStyle:{backgroundColor:"#4791db",color:"white"}},components:{Toolbar:function(e){return r.a.createElement("div",{style:{color:"#115293",fontSize:"3.5em",fontWeight:"bold",paddingBottom:"25px",paddingTop:"10px"}},r.a.createElement(Q.MTableToolbar,e))}}}),r.a.createElement(Z.a,{open:p,onClose:E},r.a.createElement($.a,{id:"more-info-dialog-title"},"Student Detail Information"),r.a.createElement(ee.a,null,r.a.createElement(ne,{labelName:"Student Number:",inputValue:i.studentNumber}),r.a.createElement(ne,{labelName:"First Name:",inputValue:i.firstname}),r.a.createElement(ne,{labelName:"Last Name:",inputValue:i.lastname}),r.a.createElement(ne,{labelName:"Date of Birth:",inputValue:i.dateOfBirth}),r.a.createElement(ne,{labelName:"Phone Number:",inputValue:i.phoneNumber}),r.a.createElement(ne,{labelName:"Email:",inputValue:i.email}),r.a.createElement(ne,{labelName:"Current Level:",inputValue:i.currentLevel})),r.a.createElement(te.a,null,r.a.createElement(N.a,{color:"primary",onClick:E},"Close"))))}var se=a(77),ie=Object(x.a)((function(e){return{table:{marginBottom:e.spacing(6)},title:{textAlign:"center",margin:e.spacing(4,0,3),color:e.palette.primary.main}}})),ue=["Student Nr. ","Name","Date of Birth","Phone Nr.","E-Mail"],me=["Staff Nr. ","Name","Date of Birth","Phone Nr.","E-Mail","Office Phone Nr.","Office Nr."];function de(e){var t=ie(),a=se.auth.getAvailableUserDetails();return r.a.createElement("div",null,r.a.createElement(k.a,{className:t.title,variant:"h3"},"LLCE ACCOUNTS OVERVIEW"),a.roles.indexOf("ROLE_STAFF_ADMIN")>-1||a.roles.indexOf("ROLE_STAFF_MANAGER")>-1?r.a.createElement("div",{className:t.table},r.a.createElement(le,{tableTitle:"LLCE Staff",tableHeaderNames:me,className:t.table})):null,r.a.createElement("div",{className:t.table},r.a.createElement(oe,{tableTitle:"LLCE Students",tableHeaderNames:ue})))}var pe=a(329),he=a(245),fe=a(336),Ee=a(449),be=a(330),ge=a(487),Ce=a(248),ve=a(342),xe=a(475),Se=a(477),ke=a(237),Ne=a(476),Oe=a(483),Ae=a(480);function De(e){return r.a.createElement(Z.a,{open:e.open,onClose:e.onClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement($.a,null,e.title),r.a.createElement(ee.a,null,r.a.createElement(Ae.a,null,e.contentText)),r.a.createElement(te.a,null,void 0!==e.btn2IsVisible&&e.btn2IsVisible?r.a.createElement(N.a,{onClick:e.onButton2Click,color:"primary"},e.btn2Name):null,r.a.createElement(N.a,{onClick:e.onButton1Click,color:"primary",autoFocus:!0},e.btn1Name)))}var ye=a(319),Be=Object(x.a)((function(e){return{progess:{margin:e.spacing(10,10,10,10)},div:{margin:e.spacing(10)}}}));function we(e){var t=Be();return r.a.createElement(ke.a,{position:"relative",display:"inline-flex",className:t.progess},r.a.createElement(ye.a,{size:e.size}),r.a.createElement(ke.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement(k.a,{color:"primary"},r.a.createElement("b",null,e.label))))}function je(e){var t=Be();return r.a.createElement("div",{className:t.div},r.a.createElement(Z.a,{open:e.open,maxWidth:"sm",PaperProps:{style:{backgroundColor:"transparent",boxShadow:"none"}}},r.a.createElement(ee.a,null,r.a.createElement(we,{label:e.label,size:e.size}))))}var Fe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleRadioClick=function(t){e.props.handleRadioClick(t.target.value)},e.handleCheckBoxClick=function(t){e.props.handleCheckBoxClick([t.target.name],t.target.checked)},e.handleTextFieldChanges=function(t){e.props.handleCreatAccountTextFieldsChanges([t.target.name],t.target.value)},e.handleConfirmButtonClick=function(){},e.handleCreateAccountButtonClick=function(t){e.props.handleCreateAccountButtonClick(),t.preventDefault()},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=["ADMIN","MANAGER","TEACHER"],a=["ROLE_STAFF_ADMIN","ROLE_STAFF_MANAGER","ROLE_STAFF_TEACHER","ROLE_STDUENT"];return r.a.createElement("div",null,r.a.createElement(xe.a,{className:e.card,raised:!0},r.a.createElement(k.a,{className:e.title,variant:"h3",color:"inherit"},"Create New Account"),r.a.createElement("form",{onSubmit:this.handleCreateAccountButtonClick},r.a.createElement(Se.a,null,r.a.createElement(he.a,{component:"fieldset"},r.a.createElement(fe.a,{row:!0,value:this.props.createAccountProps.accountType,onChange:this.handleRadioClick,className:e.radioGroup},r.a.createElement(Ee.a,{component:"label",className:e.formLabel,required:!0},"Choose Account Type:"),r.a.createElement(be.a,{value:"student-account",label:"Student Account",labelPlacement:"end",className:e.radio,control:r.a.createElement(ge.a,{color:"primary"})}),r.a.createElement(be.a,{value:"staff-account",label:"Staff Account",labelPlacement:"end",className:e.radio,control:r.a.createElement(ge.a,{color:"primary"})})))," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),this.props.createAccountProps.isStaffAccount?r.a.createElement("div",null,r.a.createElement(he.a,{component:"fieldset"},r.a.createElement(Ce.a,{row:!0},r.a.createElement(Ee.a,{component:"label",required:!0,className:e.formLabel}," Choose role(s): "),r.a.createElement(be.a,{control:r.a.createElement(ve.a,{color:"primary",checked:this.props.createAccountProps.ROLE_STAFF_ADMIN,onChange:this.handleCheckBoxClick,name:a[0]}),label:t[0]}),r.a.createElement(be.a,{control:r.a.createElement(ve.a,{color:"primary",checked:this.props.createAccountProps.ROLE_STAFF_MANAGER,onChange:this.handleCheckBoxClick,name:a[1]}),label:t[1]}),r.a.createElement(be.a,{control:r.a.createElement(ve.a,{color:"primary",checked:this.props.createAccountProps.ROLE_STAFF_TEACHER,onChange:this.handleCheckBoxClick,name:a[2]}),label:t[2]}))),r.a.createElement("br",null)," ",r.a.createElement("br",null)):null,r.a.createElement(pe.a,{className:e.textField,margin:"normal",id:"firstname",type:"text",label:"First name",name:"firstname",required:!0,value:this.props.createAccountProps.firstname,onChange:this.handleTextFieldChanges}),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(pe.a,{className:e.textField,margin:"normal",id:"lastname",type:"text",label:"Last name",name:"lastname",required:!0,value:this.props.createAccountProps.lastname,onChange:this.handleTextFieldChanges}),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(pe.a,{className:e.textField,margin:"normal",id:"dateOfBirth",type:"date",label:"Date of birth",name:"dateOfBirth",required:!0,value:this.props.createAccountProps.dateOfBirth,onChange:this.handleTextFieldChanges,InputLabelProps:{shrink:!0}}),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(pe.a,{className:e.textField,margin:"normal",id:"phoneNumber",type:"tel",label:"Phone number",name:"phoneNumber",value:this.props.createAccountProps.phoneNumber,onChange:this.handleTextFieldChanges}),r.a.createElement("br",null)," ",r.a.createElement("br",null),this.props.createAccountProps.isStaffAccount?r.a.createElement("div",null,r.a.createElement(pe.a,{className:e.textField,margin:"normal",id:"officePhoneNumber",type:"tel",label:"Office phone number",name:"officePhoneNumber",value:this.props.createAccountProps.officePhoneNumber,onChange:this.handleTextFieldChanges}),r.a.createElement("br",null)," ",r.a.createElement("br",null)):null,r.a.createElement(pe.a,{className:e.textField,margin:"normal",id:"email",type:"email",label:"Email",name:"email",required:!0,value:this.props.createAccountProps.email,onChange:this.handleTextFieldChanges}),r.a.createElement("br",null)," ",r.a.createElement("br",null),this.props.createAccountProps.isStaffAccount?r.a.createElement("div",null,r.a.createElement(pe.a,{className:e.textField,margin:"normal",id:"officeNumber",type:"text",label:"Office number",name:"officeNumber",value:this.props.createAccountProps.officeNumber,onChange:this.handleTextFieldChanges}),r.a.createElement("br",null)," ",r.a.createElement("br",null)):r.a.createElement("div",null,r.a.createElement(pe.a,{className:e.textField,margin:"normal",id:"currentLevel",type:"text",label:"Current level",select:!0,SelectProps:{native:!0},name:"currentLevel",required:!0,value:this.props.createAccountProps.currentLevel,onChange:this.handleTextFieldChanges},["A1","A2","B1","B2","C1"].map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("br",null)," ",r.a.createElement("br",null)),this.props.createAccountProps.error&&r.a.createElement(ke.a,{className:e.error},r.a.createElement(Oe.a,{color:"error"}),r.a.createElement(k.a,{className:e.errorMessage,color:"error"},this.props.createAccountProps.errorMessage))),r.a.createElement(Ne.a,null,r.a.createElement(N.a,{type:"submit",color:"primary",variant:"contained",className:e.createAccount},"Create Account")))),r.a.createElement(De,{btn2IsVisible:!0,open:this.props.createAccountProps.openConfirmationDialog,title:"Confirm Account Creation",contentText:"Do you want to confirm the creation of this account ?",btn1Name:"Confirm",btn2Name:"Cancel",onclose:this.props.handleCancelOrCloseDialog,onButton1Click:this.props.handleConfirmButtonClick,onButton2Click:this.props.handleCancelOrCloseDialog}),r.a.createElement(De,{btn2IsVisible:!0,open:this.props.createAccountProps.openSuccessDBox,title:"Account Creation Successful",contentText:r.a.createElement(r.a.Fragment,null,"The account has successfully been created.",r.a.createElement("br",null)," Do you want to create another account ?"),btn1Name:"YES",btn2Name:"NO",onclose:this.props.handleCASuccessDBoxOnClose,onButton1Click:this.props.handleCASuccessDBoxOnButton1Click,onButton2Click:this.props.handleCASuccessDBoxOnButton2Click}),r.a.createElement(je,{size:200,label:"creation in progress",open:this.props.createAccountProps.accountCreationInProgress}))}}]),a}(r.a.Component),Te=Object(E.a)((function(e){return{card:{maxWidth:"auto",textAlign:"center",padding:e.spacing(5,0,2,0)},title:{textAlign:"center",margin:e.spacing(2,0,5,0),color:e.palette.primary.main},formLabel:{margin:e.spacing(1.5,4,1,0),color:e.palette.primary.light},radio:{margin:e.spacing(0,2,0,1)},radioGroup:{verticalAlign:"middle"},textField:{width:400},createAccount:{margin:"auto",marginBottom:e.spacing(2)},error:{display:"flex",flexDirection:"row",alignItems:"center",margin:e.spacing(3,0,2,5)},errorMessage:{marginLeft:e.spacing(1.5)}}}))(Fe),Pe=a(478),Le=Object(x.a)((function(e){return{card:{margin:e.spacing(8,0,3,0),textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},title:{textAlign:"center",margin:e.spacing(2,0,4,0),color:e.palette.primary.main},textField:{marginBottom:e.spacing(3),width:400},scheduleBotton:{marginBottom:e.spacing(5)},checkBox:{marginRight:e.spacing(2)},container:{display:"flex",flexDirection:"row",alignItems:"center"},formGroupLabel:{marginRight:e.spacing(2)},error:{display:"flex",flexDirection:"row",alignItems:"center",margin:e.spacing(3,0,2,5)}}}));function Me(e){var t=function(t){e.handleScheduleExamCheckBoxChanges(t.target.name,t.target.checked)},a=Le(),n=["A1","A2","B1","B2","C1"];return r.a.createElement("div",null,r.a.createElement(xe.a,{className:a.card,raised:!0},r.a.createElement(Se.a,null,r.a.createElement(k.a,{className:a.title,variant:"h3",color:"inherit"},"Schedule Exam Date"),r.a.createElement("br",null),r.a.createElement(pe.a,{className:a.textField,variant:"outlined",margin:"normal",id:"exam_date",type:"date",label:"Date of Exam",name:"examDate",required:!0,value:e.scheduleExamProps.examDate,onChange:function(t){e.handleScheduleExamTextFieldsChanges(t.target.name,t.target.value)},InputLabelProps:{shrink:!0}}),r.a.createElement(Pe.a,null,r.a.createElement("div",{className:a.container},r.a.createElement(k.a,{className:a.formGroupLabel,color:"primary"},"Choose exam level(s):"),r.a.createElement(he.a,null,r.a.createElement(Ce.a,{row:!0},r.a.createElement(be.a,{className:a.checkBox,control:r.a.createElement(ve.a,{color:"primary",checked:e.scheduleExamProps.A1Checked,onChange:t,name:"A1Checked"}),label:n[0]}),r.a.createElement(be.a,{className:a.checkBox,control:r.a.createElement(ve.a,{color:"primary",checked:e.scheduleExamProps.A2Checked,onChange:t,name:"A2Checked"}),label:n[1]}),r.a.createElement(be.a,{className:a.checkBox,control:r.a.createElement(ve.a,{color:"primary",checked:e.scheduleExamProps.B1Checked,onChange:t,name:"B1Checked"}),label:n[2]}),r.a.createElement(be.a,{className:a.checkBox,control:r.a.createElement(ve.a,{color:"primary",checked:e.scheduleExamProps.B2Checked,onChange:t,name:"B2Checked"}),label:n[3]}),r.a.createElement(be.a,{className:a.checkBox,control:r.a.createElement(ve.a,{color:"primary",checked:e.scheduleExamProps.C1Checked,onChange:t,name:"C1Checked"}),label:n[4]}))))),e.scheduleExamProps.error&&r.a.createElement(ke.a,{className:a.error},r.a.createElement(Oe.a,{color:"error"}),r.a.createElement(k.a,{className:a.errorMessage,color:"error"},e.scheduleExamProps.errorMessage))),r.a.createElement(Ne.a,null,r.a.createElement(N.a,{color:"primary",variant:"contained",className:a.scheduleBotton,onClick:e.handleScheduleExamScheduleButtonClick},"Schedule"))),r.a.createElement(De,{open:e.scheduleExamProps.openScheduleExamDBox,title:"Exam(s) Schedule Confirmation",contentText:"The Exam(s) have successfully been scheduled",btn1Name:"OK",onClose:e.handleSEOnDBoxClose,onButton1Click:e.handleSEDBoxButtonClick}))}var Re=a(337),_e=a(334),Ie=a(326),Ve=a(321),Ge=a(325),We=a(484),ze=a(77),He=Object(x.a)((function(e){return{table:{minWidth:700},paper:{width:"100%",marginBottom:e.spacing(2)},legend:{backgroundColor:"#FFFAFA",color:e.palette.secondary.main,padding:e.spacing(1,1,1,1)},fieldset:{margin:e.spacing(4,0,6,0),borderStyle:"groove",borderColor:e.palette.info.light,maxWidth:600},textField:{margin:e.spacing(4,10,3,4),minWidth:150,backgroundColor:"#FFFFFF"},button:{margin:e.spacing(4,0,3,0),minHeight:60},toolbar:{margin:e.spacing(1.5,0,1,0)},toolbarMarksSummaryTable:{alignItems:"flex-start",padding:e.spacing(2,0,2,0)},titleMarksSummaryTable:{flexGrow:1,marginRight:e.spacing(15)},selectMarksSummaryTable:{flexGrow:1},markAssignmentToolbarTitle:{flexGrow:1,marginRight:e.spacing(15)},progress:{margin:e.spacing(0,1.5,0,1)},rowContainer:{display:"flex",flexDirection:"row",alignItems:"center"},columnContainer:{display:"flex",flexDirection:"column",alignItems:"center"}}})),Ue=["Grammar","Reading  Comprehension","Listening  Comprehension","Text Production"],qe=["A1","A2","B1","B2","C1"];function Je(e){var t=He(),a=Object(n.useState)(0),l=Object(v.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)("Grammar"),i=Object(v.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)(""),p=Object(v.a)(d,2),h=p[0],f=p[1];return Object(n.useEffect)((function(){ze.get("exams/latest-date",(function(e,t){e||f(t.body)}))}),[]),r.a.createElement("div",null,r.a.createElement(g.a,{className:t.toolbar},r.a.createElement(k.a,{variant:"h5",color:"primary",className:t.markAssignmentToolbarTitle},e.studentFullName),r.a.createElement(k.a,{variant:"h5",color:"primary"},r.a.createElement("b",null,"Exam Date:")," ",h)),r.a.createElement(Re.a,{className:t.table,"aria-label":"simple table"},r.a.createElement(_e.a,null,r.a.createElement(Ie.a,null,r.a.createElement(Ve.a,null,r.a.createElement(k.a,{variant:"h6"},"Subjects")),r.a.createElement(Ve.a,{align:"center"},r.a.createElement(k.a,{variant:"h6"},"Socred Mark")),r.a.createElement(Ve.a,{align:"center"}))),r.a.createElement(Ge.a,null,r.a.createElement(Ie.a,{key:"subject"},r.a.createElement(Ve.a,{component:"th",scope:"row"},r.a.createElement(pe.a,{id:"select subject",label:"Select Subject",type:"text",select:!0,SelectProps:{native:!0},variant:"outlined",name:"selectedSubject",value:u,onChange:function(e){m(e.target.value)}},Ue.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement(Ve.a,{align:"center"},r.a.createElement(pe.a,{variant:"outlined",label:"Score",size:"small",name:"score",value:c,onChange:function(e){o(e.target.value)}})),r.a.createElement(Ve.a,{align:"right"},r.a.createElement(N.a,{variant:"contained",color:"primary",size:"medium",startIcon:r.a.createElement(We.a,null),onClick:function(){var t={subjectName:u,score:c,studentNumber:e.studentNumber,staffNumber:e.staffNumber,examDate:h,examLevel:e.examLevel};ze.post("marks",t,(function(e,t){}))}},"assess"))))))}function Ye(e){var t=He(),a=Object(n.useState)([]),l=Object(v.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(""),i=Object(v.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)([]),p=Object(v.a)(d,2),h=p[0],f=p[1],E=Object(n.useState)(""),b=Object(v.a)(E,2),C=b[0],x=b[1];return Object(n.useEffect)((function(){var t;t=e.studentNumber,ze.get("marks/exam-dates?studentNumber=".concat(t),(function(e,t){e||(o(t.body),t.body&&t.body.length>0&&m(t.body[0]))})),function(e){ze.get("marks/latest-completely-assessed-exam-session?studentNumber=".concat(e),(function(e,t){e||(f(t.body),t.body&&t.body.length>0&&x(t.body[0].examLevel))}))}(e.studentNumber)}),[]),r.a.createElement("div",null,r.a.createElement(g.a,{className:t.toolbarMarksSummaryTable},r.a.createElement(k.a,{variant:"h6",color:"primary",className:t.titleMarksSummaryTable},e.studentFullName),r.a.createElement(k.a,{variant:"h6",color:"primary"},"Exam Level ",C)),r.a.createElement(g.a,null,r.a.createElement(pe.a,{id:"examDate",select:!0,SelectProps:{native:!0},variant:"outlined",helperText:"choose exam date",value:u,onChange:function(t){var a,n,r=t.target.value;m(t.target.choosenDate),a=e.studentNumber,n=r,ze.get("marks?studentNumber=".concat(a,"&examDate=").concat(n),(function(e,t){e||(f(t.body),t.body&&t.body.length>0&&x(t.body[0].examLevel))}))}},c.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement(Re.a,null,r.a.createElement(_e.a,null,r.a.createElement(Ie.a,null,r.a.createElement(Ve.a,null,r.a.createElement(k.a,{variant:"h6"},"Subjects")),r.a.createElement(Ve.a,{align:"center"},r.a.createElement(k.a,{variant:"h6"},"Scores")))),r.a.createElement(Ge.a,null,h.map((function(e){return r.a.createElement(Ie.a,{key:e.subjectName},r.a.createElement(Ve.a,null,e.subjectName),r.a.createElement(Ve.a,{align:"center"},e.score))})))))}function Ke(e){var t=Object(n.useState)([]),a=Object(v.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)("A1"),s=Object(v.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)("A1  Students"),d=Object(v.a)(m,2),p=d[0],h=d[1],f=Object(n.useState)(!1),E=Object(v.a)(f,2),b=E[0],g=E[1],C=Object(n.useState)(!1),x=Object(v.a)(C,2),S=x[0],k=x[1],O=Object(n.useState)(""),A=Object(v.a)(O,2),D=A[0],y=A[1],B=Object(n.useState)(""),w=Object(v.a)(B,2),j=w[0],F=w[1],T=Object(n.useState)(!1),P=Object(v.a)(T,2),L=P[0],M=P[1],R=He(),_=ze.auth.getAvailableUserDetails().studentOrStaffNumber,I=function(){ze.get("students/limitedInfos?level=".concat(i),(function(e,t){e||c(t.body),M(!1)}))};Object(n.useEffect)((function(){return I()}),[]);var V=function(){g(!1)},G=function(){k(!1)},W=ze.auth.getAvailableUserDetails();return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:R.columnContainer},r.a.createElement("fieldset",{className:R.fieldset},r.a.createElement(Pe.a,{className:R.container},r.a.createElement(pe.a,{className:R.textField,id:"desiredLevel",label:"Level",select:!0,SelectProps:{native:!0},name:"level",required:!0,variant:"outlined",value:i,onChange:function(e){u(e.target.value)}},qe.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(N.a,{className:R.button,color:"primary",variant:"contained",onClick:function(){M(!0),I(),h(i+"  Students")}},r.a.createElement(ke.a,{className:R.rowContainer},L?r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{color:"inherit",size:30,className:R.progress})," ","Importing ".concat(i," students")," "):"import ".concat(i," students")))))),r.a.createElement(X.a,{title:p,columns:[{title:"Student No.",field:"studentNumber"},{title:"Name",field:"name"},{title:"Date of birth",field:"dateOfBirth"}],data:l.map((function(e){return{studentNumber:e.studentNumber,name:e.fullname,dateOfBirth:e.dateOfBirth}})),actions:[{icon:"class",tooltip:"View student grades ",onClick:function(e,t){k(!0),y(t.studentNumber),F(t.name)}},W.roles.indexOf("ROLE_STAFF_TEACHER")>-1?{icon:"edit",tooltip:"Edit Student Marks",onClick:function(e,t){g(!0),F(t.name),y(t.studentNumber)}}:null],options:{search:!0,headerStyle:{backgroundColor:"#4791db",color:"white"}},components:{Toolbar:function(e){return r.a.createElement("div",{style:{color:"#115293",fontSize:"3.5em",fontWeight:"bold",paddingBottom:"25px",paddingTop:"10px"}},r.a.createElement(Q.MTableToolbar,e))}}})),r.a.createElement("div",null,r.a.createElement(Z.a,{open:b,onClose:V,maxWidth:"xl"},r.a.createElement(ee.a,null,r.a.createElement(Je,{studentNumber:D,staffNumber:_,examLevel:i,studentFullName:j})),r.a.createElement(te.a,null,r.a.createElement(N.a,{onClick:V,color:"primary"},"Done")))),r.a.createElement("div",null,r.a.createElement(Z.a,{open:S,onClose:G,maxWidth:"xl"},r.a.createElement(ee.a,null,r.a.createElement(Ye,{studentNumber:D,studentFullName:j})),r.a.createElement(te.a,null,r.a.createElement(N.a,{onClick:G,color:"primary"},"Done")))))}var Qe=a(254),Xe=a(77),Ze=Object(x.a)((function(e){return{paper:{margin:e.spacing(4,0,2,0),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},error:{display:"flex",flexDirection:"row",alignItems:"center",margin:e.spacing(3,0,2,5)},errorMessage:{marginLeft:e.spacing(1.5)}}}));function $e(e){var t=Ze(),a=Object(p.k)(),l=Object(n.useState)(!1),c=Object(v.a)(l,2),o=c[0],s=c[1],i=Object(n.useState)(""),u=Object(v.a)(i,2),m=u[0],d=u[1],h=Object(n.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),E=Object(v.a)(h,2),g=E[0],C=E[1],x=Object(n.useState)(!1),S=Object(v.a)(x,2),O=S[0],A=S[1],D=function(e){C(Object(Qe.a)(Object(Qe.a)({},g),{},Object(f.a)({},e.target.name,e.target.value))),o&&s(!1)},y=function(e,t){return e&&"null"!==e&&"undefined"!==e&&t&&"null"!==t&&"undefined"!==t&&e===t};return r.a.createElement("div",null,r.a.createElement(Pe.a,{component:"main"},r.a.createElement(b.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(k.a,{variant:"h3",color:"primary"}," Change Your Password "),r.a.createElement("br",null),r.a.createElement(Pe.a,{maxWidth:"sm"},r.a.createElement("form",{className:t.form,onSubmit:function(e){if(!y(g.newPassword,g.confirmPassword))return s(!0),d("Confirm-password does not matches new-password"),void e.preventDefault();var t={username:Xe.auth.getAvailableUserDetails().username||void 0,currentPassword:g.currentPassword||void 0,newPassword:g.newPassword||void 0};Xe.post("credentials",t,(function(e,t){e?(s(!0),d(e.response.body.message)):A(!0)})),e.preventDefault()}},r.a.createElement(pe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"currentPassword",label:"Current Password",type:"password",id:"currentPassword",onChange:D}),r.a.createElement(pe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"newPassword",label:"New Password",type:"password",id:"newPassword",onChange:D}),r.a.createElement(pe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",onChange:D}),o&&r.a.createElement(ke.a,{className:t.error},r.a.createElement(Oe.a,{color:"error"}),r.a.createElement(k.a,{className:t.errorMessage,color:"error"},m)),r.a.createElement(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Change Password"))))),!o&&r.a.createElement(De,{open:O,title:"Password Change Successful",contentText:"Your password has successfully been changed",btn1Name:"OK",onclose:function(){A(!1)},onButton1Click:function(){A(!1),a.push(e.redirectDestination)}}))}var et=a(77),tt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).clearCreateAccountFormOnAccountCreationSuccessful=function(){n.setState({accountType:"student-account",isStaffAccount:!1,ROLE_STAFF_ADMIN:!1,ROLE_STAFF_MANAGER:!1,ROLE_STAFF_TEACHER:!1,firstname:"",lastname:"",dateOfBirth:"",phoneNumber:"",email:"",currentLevel:"A1",officePhoneNumber:"",officeNumber:"",openConfirmationDialog:!1,accountCreationInProgress:!1,accountCreationSuccess:!1})},n.clearScheduleExamFormOnScheduleSuccessful=function(){n.setState({examDate:"",A1Checked:!1,A2Checked:!1,B1Checked:!1,B2Checked:!1,C1Checked:!1})},n.handleAccountsButtonClick=function(){n.setState((function(e){return{openAccountsButton:!e.openAccountsButton}}))},n.handleClickView=function(){n.setState({staffView:"accounts_view"}),n.props.history.push("/staffs/accounts/view")},n.handleClickCreate=function(){n.setState({staffView:"accounts_create"}),n.props.history.push("/staffs/accounts/create")},n.handleClickEdit=function(){n.setState({staffView:"accounts_edit"}),n.props.history.push("/staffs/accounts/edit")},n.handleClickDelete=function(){n.setState({staffView:"accounts_delete"}),n.props.history.push("/staffs/accounts/delete")},n.handleClickManageMarks=function(){n.setState({staffView:"manage_marks"}),n.props.history.push("/staffs/marks-exams/manage-marks")},n.handleClickScheduleExams=function(){n.setState({staffView:"schedule_exams"}),n.props.history.push("/staffs/marks-exams/schedule-exams")},n.handleMarksExamsButtonClick=function(){n.setState((function(e){return{openMarksExamsButton:!e.openMarksExamsButton}}))},n.handleRadioClick=function(e){n.setState({accountType:e}),n.setState((function(e){return{isStaffAccount:"staff-account"===e.accountType}}))},n.handleCheckBoxClick=function(e,t){n.setState(Object(f.a)({},e,t))},n.handleCreatAccountTextFieldsChanges=function(e,t){n.setState(Object(f.a)({},e,t))},n.handleCreateAccountButtonClick=function(){n.setState({openConfirmationDialog:!0})},n.handleCancelOrCloseDialog=function(){n.setState({openConfirmationDialog:!1})},n.handleCASuccessDBoxOnClose=function(){n.setState({openSuccessDBox:!1})},n.handleCASuccessDBoxOnButton1Click=function(){n.setState({openSuccessDBox:!1})},n.handleCASuccessDBoxOnButton2Click=function(){n.setState({openSuccessDBox:!1}),n.props.history.push("/staffs/accounts/view")},n.handleConfirmButtonClick=function(){n.setState({openConfirmationDialog:!1,accountCreationInProgress:!0});var e=[],t={firstname:n.state.firstname||void 0,lastname:n.state.lastname||void 0,dateOfBirth:n.state.dateOfBirth||void 0,phoneNumber:n.state.phoneNumber||void 0,email:n.state.email||void 0};if(n.state.isStaffAccount){t.officePhoneNumber=n.state.officePhoneNumber||void 0,t.officeNumber=n.state.officeNumber||void 0,n.state.ROLE_STAFF_ADMIN&&e.push("ROLE_STAFF_ADMIN"),n.state.ROLE_STAFF_MANAGER&&e.push("ROLE_STAFF_MANAGER"),n.state.ROLE_STAFF_TEACHER&&e.push("ROLE_STAFF_TEACHER");var a={staffDto:t,rolesDto:e};et.post("staffs",a,(function(e,t){e?n.setState({caError:!0,caErrorMessage:e.response.body.message}):(n.setState({openSuccessDBox:!0}),n.clearCreateAccountFormOnAccountCreationSuccessful(),n.state.caError&&n.setState({caError:!1,caErrorMessage:""})),n.setState({accountCreationInProgress:!1})}))}else{t.currentLevel=n.state.currentLevel||void 0,e.push("ROLE_STUDENT");var r={studentDto:t,rolesDto:e};et.post("students",r,(function(e,t){e?n.setState({caError:!0,caErrorMessage:e.response.body.message}):(n.setState({openSuccessDBox:!0}),n.clearCreateAccountFormOnAccountCreationSuccessful(),n.state.caError&&n.setState({caError:!1,caErrorMessage:""})),n.setState({accountCreationInProgress:!1})}))}},n.handleScheduleExamTextFieldsChanges=function(e,t){n.setState(Object(f.a)({},e,t)),n.state.seError&&n.setState({seError:!1,seErrorMessage:""})},n.handleScheduleExamCheckBoxChanges=function(e,t){n.setState(Object(f.a)({},e,t)),n.state.seError&&n.setState({seError:!1,seErrorMessage:""})},n.handleSEOnDBoxClose=function(){n.setState({openScheduleExamDBox:!1})},n.handleSEDBoxButtonClick=function(){n.setState({openScheduleExamDBox:!1}),n.props.history.push("/staffs/accounts/view")},n.handleScheduleExamScheduleButtonClick=function(){var e={examDate:n.state.examDate||void 0,examLevels:[]};n.state.A1Checked&&e.examLevels.push("A1"),n.state.A2Checked&&e.examLevels.push("A2"),n.state.B1Checked&&e.examLevels.push("B1"),n.state.B2Checked&&e.examLevels.push("B2"),n.state.C1Checked&&e.examLevels.push("C1"),et.post("exams",e,(function(e,t){e?n.setState({seError:!0,seErrorMessage:e.response.body.message}):(n.setState({openScheduleExamDBox:!0}),n.state.seError&&n.setState({seError:!1,seErrorMessage:""}),n.clearScheduleExamFormOnScheduleSuccessful())}))},n.renderStaffViews=function(e){switch(e){case"view":return r.a.createElement(de,null);case"create":var t={accountType:n.state.accountType,isStaffAccount:n.state.isStaffAccount,ROLE_STAFF_ADMIN:n.state.ROLE_STAFF_ADMIN,ROLE_STAFF_MANAGER:n.state.ROLE_STAFF_MANAGER,ROLE_STAFF_TEACHER:n.state.ROLE_STAFF_TEACHER,firstname:n.state.firstname,lastname:n.state.lastname,dateOfBirth:n.state.dateOfBirth,phoneNumber:n.state.phoneNumber,email:n.state.email,currentLevel:n.state.currentLevel,officePhoneNumber:n.state.officePhoneNumber,officeNumber:n.state.officeNumber,openConfirmationDialog:n.state.openConfirmationDialog,accountCreationInProgress:n.state.accountCreationInProgress,accountCreationSuccess:n.state.accountCreationSuccess,error:n.state.caError,errorMessage:n.state.caErrorMessage,openSuccessDBox:n.state.openSuccessDBox};return r.a.createElement(Te,{createAccountProps:t,handleRadioClick:n.handleRadioClick,handleCheckBoxClick:n.handleCheckBoxClick,handleCreatAccountTextFieldsChanges:n.handleCreatAccountTextFieldsChanges,handleCreateAccountButtonClick:n.handleCreateAccountButtonClick,handleCancelOrCloseDialog:n.handleCancelOrCloseDialog,handleConfirmButtonClick:n.handleConfirmButtonClick,handleCASuccessDBoxOnClose:n.handleCASuccessDBoxOnClose,handleCASuccessDBoxOnButton1Click:n.handleCASuccessDBoxOnButton1Click,handleCASuccessDBoxOnButton2Click:n.handleCASuccessDBoxOnButton2Click});case"edith":case"delete":break;case"manage-marks":return r.a.createElement(Ke,null);case"schedule-exams":var a={examDate:n.state.examDate,examLevel:n.state.examLevel,A1Checked:n.state.A1Checked,A2Checked:n.state.A2Checked,B1Checked:n.state.B1Checked,B2Checked:n.state.B2Checked,C1Checked:n.state.C1Checked,error:n.state.seError,errorMessage:n.state.seErrorMessage,openScheduleExamDBox:n.state.openScheduleExamDBox};return r.a.createElement(Me,{scheduleExamProps:a,handleScheduleExamTextFieldsChanges:n.handleScheduleExamTextFieldsChanges,handleScheduleExamCheckBoxChanges:n.handleScheduleExamCheckBoxChanges,handleScheduleExamScheduleButtonClick:n.handleScheduleExamScheduleButtonClick,handleSEOnDBoxClose:n.handleSEOnDBoxClose,handleSEDBoxButtonClick:n.handleSEDBoxButtonClick});case"password-change":return r.a.createElement($e,{redirectDestination:"/staffs/accounts/view"})}},n.state={openAccountsButton:!1,openMarksExamsButton:!1,staffView:n.props.match.params.option,accountType:"student-account",isStaffAccount:!1,ROLE_STAFF_ADMIN:!1,ROLE_STAFF_MANAGER:!1,ROLE_STAFF_TEACHER:!1,firstname:"",lastname:"",dateOfBirth:"",phoneNumber:"",email:"",currentLevel:"A1",officePhoneNumber:"",officeNumber:"",openConfirmationDialog:!1,accountCreationInProgress:!1,accountCreationSuccess:!1,caError:!1,caErrorMessage:"",openSuccessDBox:!1,examDate:"",examLevel:"A1",A1Checked:!1,A2Checked:!1,B1Checked:!1,B2Checked:!1,C1Checked:!1,seError:!1,seErrorMessage:"",openScheduleExamDBox:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e={openAccountsButton:this.state.openAccountsButton,openMarksExamsButton:this.state.openMarksExamsButton,staffView:this.state.staffViews},t={handleClickView:this.handleClickView,handleClickCreate:this.handleClickCreate,handleClickEdit:this.handleClickEdit,handleClickDelete:this.handleClickDelete},a={handleClickScheduleExams:this.handleClickScheduleExams,handleClickManageMarks:this.handleClickManageMarks},n=this.props.classes;return r.a.createElement("div",{className:n.root},r.a.createElement(b.a,null),r.a.createElement(F,{className:n.appBar}),r.a.createElement(K,{classNameDrawer:n.drawer,classNameDrawerPaper:n.drawer,classNameDrawerContainer:n.drawer,sidebarProps:e,handleAccountsButtonClick:this.handleAccountsButtonClick,accountsCollapseHandlers:t,handleMarksExamsButtonClick:this.handleMarksExamsButtonClick,marksExamsCollapseHandlers:a}),r.a.createElement(C.a,{className:n.paperMain},r.a.createElement(g.a,null),this.renderStaffViews(this.props.match.params.option)))}}],[{key:"getDerivegetDerivedStateFromProps",value:function(e,t){return e.match.params.option!==t.staffView?{staffView:e.match.params.option}:null}}]),a}(r.a.Component),at=Object(E.a)((function(e){return{root:{display:"flex",minHeight:"100vh"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},paperMain:{flexGrow:1,padding:e.spacing(3),minHeight:"100%"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},nested:{paddingLeft:e.spacing(4)},table:{minWidth:1e3},paper:{width:"100%",marginBottom:e.spacing(2)}}}))(tt),nt=a(482),rt=a(77),lt=Object(x.a)((function(e){return{fieldset:{margin:e.spacing(8,0,8,0),paddingRight:e.spacing(5),borderStyle:"groove",borderColor:e.palette.info.light,alignItems:"stretch",padding:e.spacing(1,1,1,1)},legend:{backgroundColor:"#FFFAFA",color:e.palette.secondary.main,padding:e.spacing(1,1,1,1)},textFieldSelect:{margin:e.spacing(0,30,3,0),backgroundColor:"#FFFFFF",maxWidth:150,flexGrow:1},toolbar:{paddingTop:e.spacing(2.5)},label:{color:e.palette.primary.main,marginRight:e.spacing(3)},table:{minWidth:1e3},paper:{marginBottom:e.spacing(2)},container:{display:"flex",flexDirection:"column",alignItems:"center"},passwordChange:{marginTop:e.spacing(5)}}}));function ct(e){return r.a.createElement(Ve.a,{style:{borderBottom:"none",fontSize:20},align:e.align}," ",e.value," ")}function ot(e){var t=lt(),a=e.studentDetails;return r.a.createElement("div",null,r.a.createElement("fieldset",{className:t.fieldset},r.a.createElement("legend",{className:t.legend},"Student Details"),r.a.createElement(nt.a,{compponent:C.a},r.a.createElement(Re.a,null,r.a.createElement(Ge.a,null,r.a.createElement(Ie.a,null,r.a.createElement(ct,{value:r.a.createElement("b",{className:t.label},"First name:")}),r.a.createElement(ct,{value:a.firstname})),r.a.createElement(Ie.a,null,r.a.createElement(ct,{value:r.a.createElement("b",{className:t.label},"Last name:")}),r.a.createElement(ct,{value:a.lastname})),r.a.createElement(Ie.a,null,r.a.createElement(ct,{value:r.a.createElement("b",{className:t.label},"Date of birth:")}),r.a.createElement(ct,{value:a.dateOfBirth})),r.a.createElement(Ie.a,null,r.a.createElement(ct,{value:r.a.createElement("b",{className:t.label},"Phone:")}),r.a.createElement(ct,{value:a.phoneNumber})),r.a.createElement(Ie.a,null,r.a.createElement(ct,{value:r.a.createElement("b",{className:t.label},"Email:")}),r.a.createElement(ct,{value:a.email})),r.a.createElement(Ie.a,null,r.a.createElement(ct,{value:r.a.createElement("b",{className:t.label},"Current level:")}),r.a.createElement(ct,{value:a.currentLevel})))))))}function st(e){var t=lt(),a=e.dates;return r.a.createElement("div",null,r.a.createElement(g.a,{className:t.toolbar},r.a.createElement(pe.a,{className:t.textFieldSelect,id:"choosenDate",label:"Choose a date",variant:"outlined",helperText:"Exam Session Date",select:!0,SelectProps:{native:!0},value:e.choosenDate,onChange:function(t){e.handleOnDateSelect(t.target.value)}},a.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(k.a,{color:"primary",variant:"h5"},"Marks Report \xa0 ",e.level)))}function it(e){var t=lt(),a=e.examMarks;return r.a.createElement("div",null,r.a.createElement(C.a,{className:t.paper,elevation:3},r.a.createElement(st,{level:e.level,dates:e.dates,handleOnDateSelect:e.handleOnDateSelect,choosenDate:e.choosenDate}),r.a.createElement(nt.a,{component:C.a},r.a.createElement(Re.a,{className:t.table},r.a.createElement(_e.a,null,r.a.createElement(Ie.a,null,r.a.createElement(Ve.a,null,"Subject"),r.a.createElement(Ve.a,null,"Score"),r.a.createElement(Ve.a,null,"Status"))),r.a.createElement(Ge.a,null,a.map((function(e){return r.a.createElement(Ie.a,{key:e.subjectName},r.a.createElement(Ve.a,null,e.subjectName),r.a.createElement(Ve.a,null,e.score),r.a.createElement(Ve.a,null,e.status))})))))))}function ut(e){var t=lt();return r.a.createElement(Pe.a,{component:"main",maxWidth:"md"},r.a.createElement("div",{className:t.container},r.a.createElement(ot,{studentDetails:e.studentReportCardProps.studentDetails}),r.a.createElement(it,{level:e.studentReportCardProps.level,studentDetails:e.studentReportCardProps.studentDetails,examMarks:e.studentReportCardProps.examMarks,dates:e.studentReportCardProps.dates,choosenDate:e.studentReportCardProps.choosenDate,handleOnDateSelect:e.studentReportCardProps.handleOnDateSelect})))}var mt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).fetchtMarksData=function(e,t){rt.get("marks/exam-report/?studentNumber=".concat(e,"&examDate=").concat(t),(function(e,t){e||(n.setState({marks:t.body}),t.body&&t.body.length>0&&n.setState({marksReportLevel:t.body[0].examLevel}))}))},n.fetchExamsDates=function(e){rt.get("marks/exam-dates?studentNumber=".concat(e),(function(e,t){e||(n.setState({examsDates:t.body}),t.body&&t.body.length>0&&n.setState({choosenDate:t.body[0]}))}))},n.fetchStudentData=function(e){rt.get("students/".concat(e),(function(e,t){e||n.setState({studentDetails:t.body})}))},n.fetchMarksDataOnComponentMount=function(e){rt.get("marks/latest-completely-assessed-exam-session?studentNumber=".concat(e),(function(e,t){e||(n.setState({marks:t.body}),t.body&&t.body.length>0&&n.setState({marksReportLevel:t.body[0].examLevel}))}))},n.handleOnDateSelect=function(e){n.fetchtMarksData(n.state.studentNumber,e),n.setState({choosenDate:e})},n.componentDidMount=function(){n.fetchStudentData(n.state.studentNumber),n.fetchExamsDates(n.state.studentNumber),n.fetchMarksDataOnComponentMount(n.state.studentNumber)},n.renderStudentViews=function(e){switch(e){case"report-card":var t={studentDetails:n.state.studentDetails,level:n.state.marksReportLevel,examMarks:n.state.marks,dates:n.state.examsDates,choosenDate:n.state.choosenDate,handleOnDateSelect:n.handleOnDateSelect};return r.a.createElement(ut,{studentReportCardProps:t});case"password-change":return r.a.createElement("div",{style:{marginTop:"110px"}},r.a.createElement($e,{redirectDestination:"/students/".concat(rt.auth.getAvailableUserDetails().username.replace(".","-"),"/report-card")}))}},n.state={marks:[],studentDetails:{},examsDates:[],choosenDate:"",marksReportLevel:"",studentNumber:rt.auth.getAvailableUserDetails().studentOrStaffNumber},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(F,null),r.a.createElement("div",{className:e.root},this.renderStudentViews(this.props.match.params.option)))}}]),a}(r.a.Component),dt=Object(E.a)((function(e){return{root:{marginTop:e.spacing(8),minHeight:"100vh"},passwordChange:{marginTop:e.spacing(4)}}}))(mt),pt=a(485),ht=a(474),ft=a(488),Et=a(350),bt=a.n(Et),gt=a(77),Ct=Object(x.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(bt.a,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},error:{display:"flex",flexDirection:"row",alignItems:"center",margin:e.spacing(3,0,2,5)},errorMessage:{marginLeft:e.spacing(1.5),textAlign:"center"},progress:{marginRight:e.spacing(2)}}}));function vt(e){var t=Ct(),a=Object(n.useState)(""),l=Object(v.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(""),i=Object(v.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)(!1),p=Object(v.a)(d,2),h=p[0],f=p[1],E=Object(n.useState)(!1),g=Object(v.a)(E,2),x=g[0],S=g[1];return r.a.createElement(ht.a,{container:!0,component:"main",className:t.root},r.a.createElement(b.a,null),r.a.createElement(ht.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),r.a.createElement(ht.a,{item:!0,xs:12,sm:8,md:5,component:C.a,elevation:6,square:!0},r.a.createElement("div",{className:t.paper},r.a.createElement(ft.a,{className:t.avatar},r.a.createElement(pt.a,null)),r.a.createElement(k.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,onSubmit:function(t){S(!0);var a={username:c||void 0,password:u||void 0};gt.login(a,(function(t,a){t?(f(!0),S(!1)):(gt.auth.authenticate(a.header.authorization.split(" ")[1]),S(!1),function(){var t=gt.auth.getAvailableUserDetails();t.roles.indexOf("ROLE_STAFF_ADMIN")>-1||t.roles.indexOf("ROLE_STAFF_MANAGER")>-1||t.roles.indexOf("ROLE_STAFF_TEACHER")>-1?e.history.push("/staffs/accounts/view"):t.roles.indexOf("ROLE_STUDENT")>-1&&e.history.push("/students/".concat(t.username.replace(".","-"),"/report-card"))}())})),t.preventDefault()}},r.a.createElement(pe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",value:c,onChange:function(e){o(e.target.value)},autoFocus:!0}),r.a.createElement(pe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){m(e.target.value)},value:u}),h&&r.a.createElement(ke.a,{className:t.error},r.a.createElement(Oe.a,{color:"error"}),r.a.createElement(k.a,{className:t.errorMessage,color:"error"},r.a.createElement(r.a.Fragment,null," Login failed.",r.a.createElement("br",null)," Your password or username is incorrect")," ")),r.a.createElement(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},x&&r.a.createElement(ye.a,{color:"inherit",size:30,className:t.progress}),"Sign In")))))}var xt=a(77),St=function(e){var t=e.component,a=Object(d.a)(e,["component"]);return r.a.createElement(p.d,Object.assign({},a,{render:function(e){return xt.auth.isAuthenticated()?r.a.createElement(t,e):r.a.createElement(p.c,{to:{pathname:"/",state:{from:e.location}}})}}))},kt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m.BrowserRouter,null,r.a.createElement(h.LastLocationProvider,null,r.a.createElement(p.d,{exact:!0,path:"/",component:vt}),r.a.createElement(St,{exact:!0,path:"/login",component:vt}),r.a.createElement(St,{exact:!0,path:"/staffs/:menu/:option",component:at}),r.a.createElement(St,{exact:!0,path:"/students/:user/:option",component:dt}))))}}]),a}(n.Component),Nt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m.BrowserRouter,null,r.a.createElement(kt,null)))}}]),a}(r.a.Component);c.a.render(r.a.createElement(Nt,null),document.getElementById("root"))},77:function(e,t,a){"use strict";a.r(t),a.d(t,"get",(function(){return o})),a.d(t,"post",(function(){return s})),a.d(t,"put",(function(){return i})),a.d(t,"remove",(function(){return u})),a.d(t,"login",(function(){return l})),a.d(t,"logout",(function(){return c})),a.d(t,"auth",(function(){return m}));var n="http://192.168.99.100:9090/api/",r=a(366),l=function(e,t){r.post(n+"login").set("Content-Type","application/json").set("Accept","text/plain").send(e).end((function(e,a){t(e,a)}))},c=function(e){e()},o=function(e,t){r.get(n+e).set("Content-Type","application/json").set("Accept","application/json").set("Authorization","Bearer "+JSON.parse(sessionStorage.getItem("jwt"))).end((function(e,a){t(e,a)}))},s=function(e,t,a){r.post(n+e).set("Content-Type","application/json").set("Accept","application/json").set("Authorization","Bearer "+JSON.parse(sessionStorage.getItem("jwt"))).send(t).end((function(e,t){a(e,t)}))},i=function(e,t,a){r.put(n+e).set("Content-Type","application/json").set("Accept","application/json").set("Authorization","Bearer "+JSON.parse(sessionStorage.getItem("jwt"))).send(t).end((function(e,t){a(e,t)}))},u=function(e,t,a){r.delete(n+e).set("Content-Type","application/json").set("Accept","application/json").set("Authorization","Bearer "+JSON.parse(sessionStorage.getItem("jwt"))).send(t).end((function(e,t){a(e,t)}))};var m={isAuthenticated:function(){return!!sessionStorage.getItem("jwt")&&JSON.parse(sessionStorage.getItem("jwt"))},authenticate:function(e,t){sessionStorage.setItem("jwt",JSON.stringify(e)),"function"===typeof t&&t()&&t()},logout:function(e){sessionStorage.removeItem("jwt"),"function"===typeof e&&e()&&e()},decodeJWT:function(e){var t;return(t=e)&&"null"!==t&&"undefined"!==t?JSON.parse(atob(e.split(".")[1])):void 0},getAvailableUserDetails:function(){var e=this.decodeJWT(JSON.parse(sessionStorage.getItem("jwt")));return{username:e.sub,studentOrStaffNumber:e.studentOrStaffNumber,roles:e.roles}}}}},[[361,1,2]]]);
//# sourceMappingURL=main.01b320b5.chunk.js.map